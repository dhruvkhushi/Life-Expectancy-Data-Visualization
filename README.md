# Life-Expectancy-Data-Visualization
A data visualization project analyzing factors affecting life expectancy using Python and various visualization libraries.
# -*- coding: utf-8 -*-
"""datavisFinalProj.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1P_LPxbv9WNjo5Iq2pABGQfv0Q5-GgJrO
"""

#the data was downloaded from: https://www.kaggle.com/datasets/kumarajarshi/life-expectancy-who

import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import folium as fl
import plotly.express as px
import folium
import seaborn as sns

from google.colab import drive
drive.mount('/content/drive')

df_rawdata = pd.read_csv('/content/drive/My Drive/Life Expectancy Data.csv')
df_rawdata

"""**Attribute Definitions**
**Status: Developed or Developing
**Life Expectancy: by age
**Adult Mortality: Mortality rates of both sexes ages 15-60 per 1000 population
**Infant Mortality: infant deaths per 1000 population
**Alcohol: consumption (15+) per capita, liters of pure alcohol
**Percentage Expenditure: percentage of gdp per capita spent on health
**Hepatitis B: percentage of HepB immunization amongst 1 year olds 
**Measles: reported cases per 1000 population
**BMI: average BMI of population
**Under five deaths: deaths of people under 5 years old per 1000 population
**Polio:percentage of polio immunization amongst 1 year olds
**Total Expenditure: Government expenditure on health as a percentage of total gov expenditure
**Diptheria: Immunization (DTP3) among 1 y/o, percentage
**HIV/AIDS: deaths per 1000 live births
**GDP: GDP per capita in USD
**Population: population of the country
**thinness 1-19: prevalence of thinness ages 10 to 19, percentage
**thinness 5-9: prevalence of thinness ages 5 to 9, percentage
**Income composition of resources: human development index in terms of income composition of resources (index from 0 to 1)
**Schooling: average number of years of schooling

"""

df_trdata = df_rawdata.transpose()
df_trdata.rename(columns={'Venezuela (Bolivarian Republic of)':'Venezuela','Bolivia (Plurinational State of)':'Bolivia','United Kingdom of Great Britain and Northern Ireland':'United Kingdom',"CÃ´te d'Ivoire":"Ivory Coast",'Guinea-Bissau':'Guinea Bissau','Iran (Islamic Republic of)':'Iran','Syrian Arab Republic':'Syria'})

df_who = df_trdata.transpose()

# how can I remove rows based on year? I need to have only one year at a time

"""What countries have the highest life expectancy on average over the years 2000-2015?"""

df = pd.DataFrame(df_who, columns=['Life expectancy ','GDP'])
df.plot(x='Life expectancy ',y='GDP', kind='scatter',figsize=(9,6))
plt.show()

dfYear = df_who.set_index('Year')
dfYear

dfYearprep = dfYear.transpose()
dfYearprep

dfYearprep.drop([2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014],axis=1, inplace=True)

dfYearprep

df2015 = dfYearprep.transpose()
df2015

df_15 = pd.DataFrame(df2015, columns=['Country','Life expectancy '])
df_15.plot(y='Life expectancy ',x='Country', kind='line',figsize=(15,12))
plt.show()

df_15 = pd.DataFrame(df2015, columns=['Country','Life expectancy '])
#count,bin_edges=np.histogram(df_15,15)

df_15.plot(y='Life expectancy ',x='Country', kind='hist',
          figsize=(10,6))
# bins=15, alpha=0.5 xticks=bin_edges, color=['coral','darkseagreen'])
#plt.title('Histogram for Denmark, Norway and Sweden')
#plt.ylabel('Life Expectancy')
#plt.xlabel('Countries')
plt.show()

df_15.sort_values(by=['Life expectancy '], ascending=False)

df_215 = df_who.query('Year==2015')

df_215.sort_values(by=['Life expectancy '],ascending=False).values

df_2015 = df_215.sort_values(by=['Life expectancy '],ascending=False)

df_2015

df_2015top10 = df_2015.head(10)

df_2015top10

df_2015bottom10 = df_2015.tail(10)

df_2015bottom10

px.bar(df_2015top10, y='Life expectancy ', x='GDP',color='Country')

px.bar(df_2015bottom10, y='Life expectancy ', x='Country',color='GDP')

df_15bottom = df_15sorted.tail(10)

df_2000 = df_who.query('Year==2000')

df_2000

"""#Developing vs Developed Countries"""

df_status = df_who.set_index('Status')

df_status

status = df_status.transpose()

status

status.drop(['Developing'],axis=1,inplace=True)

Developed = status.transpose()

Developed

df_status

dfdeveloped = pd.DataFrame(Developed, columns=['Life expectancy ','GDP'])
df.plot(x='Life expectancy ',y='GDP', kind='scatter',figsize=(9,6))
plt.show()

df_developing = df_status.transpose()

df_developing.drop(['Developed'],axis=1,inplace=True)

Developing = df_developing.transpose()

Developing

dfdeveloping = pd.DataFrame(Developing, columns=['Life expectancy ','GDP'])
df.plot(x='Life expectancy ',y='GDP', kind='scatter',figsize=(9,6))
plt.show()

sorted_developed = Developed.sort_values(by=['Life expectancy '],ascending=False)

sorted_developing = Developing.sort_values(by=['Life expectancy '],ascending=False)

sorted_developing

px.treemap(sorted_developed, values='Life expectancy ',path=['Country', 'Year'], hover_name='Schooling', color='GDP')

px.treemap(sorted_developing, values='GDP',path=['Country', 'Year'], hover_name='Schooling', color='Life expectancy ')

dfnew = pd.DataFrame(df_who, columns=['Life expectancy ',' BMI '])
dfnew.plot(x='Life expectancy ',y=' BMI ', kind='scatter',figsize=(9,6))
plt.show()

"""What illness is most correlated to lower life expectancy?"""



"""How much does gdp per capita affect life expectancy?"""



"""what category has the largest impact on life expectancy? (this is the big one)

#Make a Map
"""

! wget --quiet https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DV0101EN-SkillsNetwork/Data%20Files/world_countries.json

world_geo = 'world_countries.json'

world_map = folium.Map(location=[0,0], zoom_start=2)

world_map.choropleth(
    geo_data = world_geo,
    data = df_who,
    columns = ['Country', 'Life expectancy '],
    key_on = 'feature.properties.name',
    fill_color = 'YlOrRd',
    hover_name = 'Country',
    fill_opacity=0.7,
    line_opacity=0.2,
    legend_name='Global Life Expectancy')

world_map

px.strip(df, x='lifeExp', hover_name='country', color='continent')

Map = px.data.gapminder()
Map

df_2015top10

